function AddNewRow(e,t){var n=e,a='<tr class="newest"><td>'+n+" "+t.name+'</td><td></td><td><button class="snd-button snd-edit" title="edit '+t.name+'" data-id="'+n+'"><i class="fa fa-pencil-square-o" aria-hidden="true"></i></button></td><td><button class="snd-button snd-remove" title="remove '+t.name+'" data-id="'+n+'"><i class="fa fa-trash" aria-hidden="true"></i></button></td></tr>';jQuery(".snd-list-blocks table").append(a)}!function(){for(var e,t=function(){},n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],a=n.length,o=window.console=window.console||{};a--;)e=n[a],o[e]||(o[e]=t)}(),"undefined"==typeof jQuery?console.warn("jQuery hasn't loaded"):console.log("jQuery has loaded"),jQuery(document).ready(function(e){e(".snd-form-container input[type=radio]").on("click",function(){e(".snd-form-container input").each(function(t,n){e(this).attr("checked",!1)}),e(this).attr("checked",!0);var t=e(this).val();e(".block-type").val(t),e(".form-config").fadeOut("fast"),e(".form-config").removeClass("horizontal-left").removeClass("horizontal-right").removeClass("vertical-top").removeClass("vertical-bottom").addClass(t),e(".form-config").fadeIn("slow")}),e("#upload-btn").click(function(t){t.preventDefault();var n=wp.media({title:"Upload Image",multiple:!1}).open().on("select",function(t){var a=n.state().get("selection").first();console.log(a);var o=a.toJSON().url;e("#image_url").val(o);var r="url("+o+")";e(".image-upload").css("background-image",r)})})}),jQuery(document).on("click",".snd-submit",function(e){e.preventDefault();var t={name:jQuery("input[name=name]").val(),text:jQuery("textarea[name=content]").val(),url:jQuery("input[name=link]").val(),image:jQuery("input[name=image_url]").val(),type:jQuery("input[name=block-type]").val()};console.log(t),jQuery.ajax({type:"POST",url:ajaxurl,data:{action:"snd_form_add",data:t,cache:!1},beforeSend:function(e){},success:function(e){AddNewRow(e,t),console.log("success")},error:function(e){}})}),jQuery(document).on("click",".snd-remove",function(e){e.preventDefault();var t=jQuery(this).parent("td").parent("tr"),n=parseInt(jQuery(this).attr("data-id")),a={id:n};jQuery.ajax({type:"POST",url:ajaxurl,data:{action:"snd_form_remove",data:a,cache:!1},beforeSend:function(e){console.log("before")},success:function(e){t.fadeOut("fast"),console.log("success")},error:function(e){console.log("error")}})}),jQuery(document).on("click",".snd-edit",function(e){e.preventDefault();var t=jQuery(this).parent("td").parent("tr"),n=parseInt(jQuery(this).attr("data-id")),a={id:n};jQuery.ajax({type:"POST",url:ajaxurl,data:{action:"snd_form_edit",data:a,cache:!1},beforeSend:function(e){console.log("before")},success:function(e){t.addClass("edited-row");var a=jQuery.parseJSON(e);jQuery(".snd-form-container input[name=name]").val(a.name+" "+n),console.log(e),console.log("success")},error:function(e){console.log("error")}})});
//# sourceMappingURL=maps/snd-admin.js.map
