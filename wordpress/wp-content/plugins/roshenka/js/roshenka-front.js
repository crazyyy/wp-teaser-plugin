function roshenka_sidebar_init(){for(var e=0;e<roshenka_sidebar_options.length;e++)roshenka_sidebar(roshenka_sidebar_options[e]);jQuery(window).on("resize",function(){for(var e=0;e<roshenka_sidebar_options.length;e++)roshenka_sidebar(roshenka_sidebar_options[e])});var o=function(){for(var e=["WebKit","Moz","O","Ms",""],o=0;o<e.length;o++)if(e[o]+"MutationObserver"in window)return window[e[o]+"MutationObserver"];return!1}();if(0==roshenka_sidebar_options[0].disable_mo_api&&o){roshenkaRefresh=!1;var i=new o(function(e){e.forEach(function(e){roshenka_exclude_mutations_array(roshenka_sidebar_options).indexOf(e.target.id)==-1&&e.target.className.indexOf("roshenka-fixed-widget-container")==-1&&(roshenkaRefresh=!0)})});i.observe(document.body,{childList:!0,attributes:!0,attributeFilter:["style","class"],subtree:!0}),setInterval(function(){if(roshenkaRefresh){for(var e=0;e<roshenka_sidebar_options.length;e++)roshenka_sidebar(roshenka_sidebar_options[e]);roshenkaRefresh=!1}},300)}else console.log("MutationObserver not supported or disabled!"),roshenka_sidebar_options[0].refresh_interval>0&&setInterval(function(){for(var e=0;e<roshenka_sidebar_options.length;e++)roshenka_sidebar(roshenka_sidebar_options[e])},roshenka_sidebar_options[0].refresh_interval)}function roshenka_exclude_mutations_array(e){for(var o=new Array,i=0;i<e.length;i++)if(e[i].widgets.length>0)for(var t=0;t<e[i].widgets.length;t++)o.push(e[i].widgets[t]),o.push(e[i].widgets[t]+"_clone");return o}function roshenka_sidebar(e){function o(){}function i(o){var i=o.offset_top-o.fixed_margin_top,t=s-e.margin_bottom;e.stop_id&&jQuery("#"+e.stop_id).length&&(t=jQuery("#"+e.stop_id).offset().top-e.margin_bottom);var n;n=e.width_inherit?"inherit":o.obj.css("width");var a=!1,d=!1,h=!1;jQuery(window).on("scroll."+e.sidebar,function(s){if(jQuery(window).width()<=e.screen_max_width||jQuery(window).height()<=e.screen_max_height)h||(o.obj.css("position",""),o.obj.css("top",""),o.obj.css("bottom",""),o.obj.css("width",""),o.obj.css("margin",""),o.obj.css("padding",""),widget_obj.parent().css("height",""),jQuery("#"+o.clone_id).length>0&&jQuery("#"+o.clone_id).remove(),h=!0,a=!1,d=!1);else{var _=jQuery(this).scrollTop();_+o.fixed_margin_bottom>=t?(d||(o.obj.css("position","fixed"),o.obj.css("top",""),o.obj.css("width",n),jQuery("#"+o.clone_id).length<=0&&o.obj.before(o.clone),d=!0,a=!1,h=!1),o.obj.css("bottom",_+r+o.next_widgets_height-t)):_>=i?a||(o.obj.css("position","fixed"),o.obj.css("top",o.fixed_margin_top),o.obj.css("bottom",""),o.obj.css("width",n),jQuery("#"+o.clone_id).length<=0&&o.obj.before(o.clone),a=!0,d=!1,h=!1):h||(o.obj.css("position",""),o.obj.css("top",""),o.obj.css("bottom",""),o.obj.css("width",""),jQuery("#"+o.clone_id).length>0&&jQuery("#"+o.clone_id).remove(),h=!0,a=!1,d=!1)}}).trigger("scroll."+e.sidebar)}if(!e)return!1;if(!e.widgets)return!1;if(e.widgets.length<1)return!1;e.sidebar||(e.sidebar="roshenka-default-sidebar");var t=new Array,r=jQuery(window).height(),s=jQuery(document).height(),n=e.margin_top;jQuery("#wpadminbar").length&&(n=e.margin_top+jQuery("#wpadminbar").height()),jQuery(".roshenka-widget-clone-"+e.sidebar).remove();for(var a=0;a<e.widgets.length;a++)widget_obj=jQuery("#"+e.widgets[a]),widget_obj.css("position",""),widget_obj.attr("id")?(t[a]=new o,t[a].obj=widget_obj,t[a].clone=widget_obj.clone(),t[a].clone.children().remove(),t[a].clone_id=widget_obj.attr("id")+"_clone",t[a].clone.addClass("roshenka-widget-clone-"+e.sidebar),t[a].clone.attr("id",t[a].clone_id),t[a].clone.css("height",widget_obj.height()),t[a].clone.css("visibility","hidden"),t[a].offset_top=widget_obj.offset().top,t[a].fixed_margin_top=n,t[a].height=widget_obj.outerHeight(!0),t[a].fixed_margin_bottom=n+t[a].height,n+=t[a].height):t[a]=!1;for(var d,h=0,a=t.length-1;a>=0;a--)t[a]&&(t[a].next_widgets_height=h,t[a].fixed_margin_bottom+=h,h+=t[a].height,d||(d=widget_obj.parent(),d.addClass("roshenka-fixed-widget-container"),d.css("height",""),d.height(d.height())));jQuery(window).off("scroll."+e.sidebar);for(var a=0;a<t.length;a++)t[a]&&i(t[a])}"undefined"!=typeof roshenka_sidebar_options&&roshenka_sidebar_options.length>0?window.jQuery?roshenka_sidebar_options[0].window_load_hook?jQuery(window).load(roshenka_sidebar_init()):jQuery(document).ready(roshenka_sidebar_init()):console.log("jQuery is not loaded!"):console.log("roshenka_sidebar_options not found!");
//# sourceMappingURL=maps/roshenka-front.js.map
